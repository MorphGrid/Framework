ARG BOOST_VERSION="1.89.0"
ARG BOOST_VARIANT="release"
ARG LINK="shared"

FROM ghcr.io/morphgrid/compiler:${BOOST_VERSION}-${BOOST_VARIANT}-${LINK}

ARG BOOST_VERSION
ARG BOOST_VARIANT
ARG LINK

WORKDIR /srv

COPY . repo

WORKDIR /srv/repo
RUN sh scripts/build.sh ${BOOST_VARIANT} ${LINK}